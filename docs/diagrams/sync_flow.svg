<svg xmlns="http://www.w3.org/2000/svg" width="700" height="180" viewBox="0 0 700 180">
  <style>
    .box { fill:#ffffff; stroke:#0f172a; stroke-width:1.8; rx:6; }
    .label { font-family: Arial, sans-serif; font-size:13px; fill:#0f172a }
    .arrow { stroke:#0f172a; stroke-width:2; marker-end: url(#a); }
  </style>
  <defs>
    <marker id="a" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0f172a" />
    </marker>
  </defs>

  <rect x="20" y="30" width="160" height="60" class="box"/>
  <text x="100" y="60" text-anchor="middle" class="label">Cliente</text>
  <text x="100" y="78" text-anchor="middle" class="label">(SQLite, outbox)</text>

  <rect x="250" y="30" width="160" height="60" class="box"/>
  <text x="330" y="60" text-anchor="middle" class="label">sync_worker</text>
  <text x="330" y="78" text-anchor="middle" class="label">(envía batch)</text>

  <rect x="480" y="10" width="180" height="100" class="box"/>
  <text x="570" y="40" text-anchor="middle" class="label">API / Servidor</text>
  <text x="570" y="58" text-anchor="middle" class="label">(api/sync_ingest.php)</text>

  <line x1="180" y1="60" x2="250" y2="60" class="arrow" />
  <text x="215" y="48" text-anchor="middle" class="label">enqueue</text>
  <line x1="410" y1="60" x2="480" y2="60" class="arrow" />
  <text x="445" y="48" text-anchor="middle" class="label">POST batch (Bearer)</text>
  <line x1="570" y1="110" x2="570" y2="140" stroke="#0f172a" stroke-width="2" marker-end="url(#a)"/>
  <text x="570" y="150" text-anchor="middle" class="label">apply idempotent inserts → sync_logs</text>

</svg>